@page "/account/resetPassword"
@inject IUserManager UserManager
@inject ISnackbar Snackbar

@layout AuthNavLayout

<PageTitle>Reset Password</PageTitle>

<MudText Typo="Typo.h4"
         Class="mb-3">Reset Password</MudText>
<EditForm Model="_email" OnValidSubmit="SendResetEmail"
          FormName="ResetPasswordForm">
    <DataAnnotationsValidator/>
    <ValidationSummary class="mud-alert-text-error"/>

    <MudTextField Class="mb-3" Label="Email" Variant="Variant.Outlined"
                  @bind-Value="_email"
                  AdornmentColor="Color.Primary"
                  InputType="InputType.Email"/>
    <ValidationMessage For="() => _email">Email format not valid!</ValidationMessage>
    <MudButton ButtonType="ButtonType.Submit"
               Variant="Variant.Filled"
               Class="rounded mud-button-full-width mb-3"
               Style="background-color: black">
        Send Email
    </MudButton>
</EditForm>

@code {

    private string _email = "";

    private async Task SendResetEmail()
    {
        if (!string.IsNullOrEmpty(_email))
        {
            Snackbar.Add("Successfully sent reset email!", Severity.Success);
        }
        Snackbar.Add("Email does not exist!", Severity.Error);
    }

}